var modal_map=document.querySelector(".map-popup"),map_close=document.querySelector(".map-popup .modal-close"),map_open=document.querySelector(".contacts a"),modal_add=document.querySelector(".modal-add"),add_open=document.querySelectorAll(".pay-green"),add_close=document.querySelector(".modal-add .modal-close"),button_pay=document.querySelector(".button-pay"),button_next=document.querySelector(".button-next"),basket=document.querySelector(".basket"),bookmark=document.querySelector(".bookmark"),button_book=document.querySelectorAll(".bookmark-green"),basket_value=document.querySelector(".basket span").textContent,basket_num=+basket_value,book_value=document.querySelector(".bookmark span").textContent,book_num=+book_value,pass=document.querySelector("[name=email]"),text=document.querySelector("[name=textletter]"),isStorageSupport=!0,storage=localStorage.getItem("login"),modal_write=document.querySelector(".modal-write-us"),write_open=document.querySelector(".write-us"),write_close=document.querySelector("#writeid"),login=document.querySelector("[name=login]");try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}var len_green=add_open.length;if(add_open){for(let e=0;len_green>e;e++)add_open[e].onclick=function(e){e.preventDefault(),modal_add.classList.add("modal-show"),basket.classList.add("basket-show"),basket_num+=1,document.querySelector(".basket span").textContent=basket_num+""};for(let e=0;len_green>e;e++)button_book[e].onclick=function(e){e.preventDefault(),bookmark.classList.add("basket-show"),book_num+=1,document.querySelector(".bookmark span").textContent=book_num+""};add_close.onclick=function(e){e.preventDefault(),modal_add.classList.remove("modal-show")},button_pay.onclick=function(e){e.preventDefault(),modal_add.classList.remove("modal-show")},button_next.onclick=function(e){e.preventDefault(),modal_add.classList.remove("modal-show")}}write_open&&(write_open.onclick=function(e){e.preventDefault(),modal_write.classList.add("modal-show"),login.focus(),storage?(login.value=storage,pass.focus()):login.focus()},write_close.onclick=function(e){e.preventDefault(),modal_write.classList.remove("modal-show"),modal_write.classList.remove("modal-error")}),map_open&&(map_open.onclick=function(e){e.preventDefault(),modal_map.classList.add("modal-show")},map_close.onclick=function(e){e.preventDefault(),modal_map.classList.remove("modal-show")});var modal_buy=document.querySelectorAll(".catalog-item"),modal_buy_show=document.querySelectorAll(".catalog-item-selected"),lengh=modal_buy.length;for(let e=0;lengh>e;e++)modal_buy[e].onmouseover=function(){modal_buy_show[e].classList.add("catalog-item-selected-show")};for(let e=0;lengh>e;e++)modal_buy[e].onmouseout=function(){modal_buy_show[e].classList.remove("catalog-item-selected-show")};if(write_open){var form=modal_write.querySelector("form");form.addEventListener("submit",function(e){e.preventDefault(),login.value&&pass.value&&text.value?(localStorage.setItem("login",login.value),form.submit()):(e.preventDefault(),modal_write.classList.remove("modal-error"),modal_write.offsetWidth=modal_write.offsetWidth,modal_write.classList.add("modal-error"))})}window.addEventListener("keydown",function(e){27===e.keyCode&&(write_open&&(modal_write.classList.contains("modal-show")&&(e.preventDefault(),modal_write.classList.remove("modal-show"),modal_write.classList.remove("modal-error")),modal_map.classList.contains("modal-show")&&(e.preventDefault(),modal_map.classList.remove("modal-show"))),modal_add.classList.contains("modal-show")&&(e.preventDefault(),modal_add.classList.remove("modal-show")))});